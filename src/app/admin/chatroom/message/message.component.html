        <div class="category_mainwrap proposaldetail_wrap"> 
            <div class="breadcrumb_wrap">
              <div class="container">
                <div class="row">
                  <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                    <h4>Chatroom Message</h4>
                  </div><!--end col-->
                  <!--start profile back button-->
          
                  <!--end profile back button-->
                </div><!--end row-->
              </div><!--end container-->
            </div><!--end breadcrumb_wrap-->
          
            <div class="proposedetail-leftbox">
            <div class="container">
            <div class="row">
              <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12" >
                <div class="bg-box profile_bg-box" >
                  <div class="heading">
                    <div class="pull-left">
                      <h3 class="head-style">{{ current_room }}</h3>
                      <p class="detail-date">{{ created_current_room | date : 'medium' }}</p>
                    </div>
            
                    <div class="pull-right">
                      <div class="profile_back_btn row button_row">
                        <button routerLink="/admin/chat/room" class="back_button save-btn" mat-button> <i class="material-icons">keyboard_backspace</i> Back</button>
                      </div>
                    </div>
                  </div>
        
        
        
        
                 
<div #scrollMe class="main-message" data-infinite-scroll debounce [infiniteScrollDistance]="scrollDistance" [infiniteScrollUpDistance]="scrollUpDistance"
        [infiniteScrollThrottle]="throttle" (scrolledUp)="onScrollUp()" [scrollWindow]="false">
        <div class="container">
            <div class="row" *ngIf="push_dates.length > 0">
                <ng-container *ngFor="let row of push_dates">
                  <div class="row_date">
                    <p>{{row | date}}</p>
                  </div>
                  <div *ngFor="let msg of displaymg[row];" class="{{hide_class}} col-lg-3 col-md-6 col-sm-12" [ngClass]="(msg.user_id==current_id) ? 'owner-user' : 'other-user'" id="msg_container_{{msg.msg_id}}">

                  	<ng-container *ngFor="let qtemsg of msg.message_info">
                      <div class="">
                          <div class="user-img"><img src="{{user_avatar_url}}?id={{qtemsg.user}}">
                            <p class="user-name">{{ qtemsg.name }}</p>
                            <p class="time-txt">{{ qtemsg.created | date : 'medium' }}</p>
                            <p class="msg-txt wrap-text">
                                <span [innerHTML]="qtemsg.chat_message | formatString"></span>
                              </p>
                          </div>                        
                          
                          <ng-container *ngFor="let qtnfsinfo of qtemsg.file_info">
                            <a href="{{ qtnfsinfo.file_ext | fileFormat:qtnfsinfo.file:'url' }}" target="_blank">
                              <p class="chat_image_block"> <img src="{{ qtnfsinfo.file_ext | fileFormat:qtnfsinfo.file:'img' }}" class="chat_msg_img"></p>
                                <h1>{{ qtnfsinfo.file_name }}<span>{{ qtnfsinfo.file_size|bytes }}</span></h1>
                            </a>
                          </ng-container>
                      </div>
		                </ng-container>

                    <div class="user-img">
                    	<img src="{{user_avatar_url}}?id={{msg.user_id}}">
                    	<p class="user-name">{{ msg.name }}</p>
                      <p class="time-txt">{{ msg.current_date_time | date : 'shortTime' }}</p>

                      <p class="msg-txt wrap-text">
                        <span [ngClass]="(msg.user_id==current_id) ? 'arrow-right' : 'arrow-left'"></span>
                        <span [innerHTML]="msg.message | formatString"></span>
                      </p>

                    </div>

                    <ng-container *ngFor="let fsinfo of msg.file_info">
                      <a href="{{ fsinfo.file_ext | fileFormat:fsinfo.file:'url' }}" target="_blank">
                        <p class="chat_image_block"> <img src="{{ fsinfo.file_ext | fileFormat:fsinfo.file:'img' }}" class="chat_msg_img"></p>
                         <h1>{{ fsinfo.file_name }}<span>{{ fsinfo.file_size|bytes }}</span></h1>                         
                      </a>
                    </ng-container>
                </div>
                </ng-container>
            </div>
          </div>

              <ng-container *ngFor="let qtemsg of prevQteMsg let k = index">
              	<div class="">
                    <div class="user-img"><img src="{{user_avatar_url}}?id={{qtemsg.user}}">
                    	<p class="user-name">{{ qtemsg.name }}</p>
                      <p class="time-txt">{{ qtemsg.created | date : 'medium' }}</p>
                    </div>
                    <p class="msg-txt wrap-text"><span></span><span [innerHTML]="qtemsg.chat_message | formatString"></span>
                    </p>
                    <ng-container *ngFor="let fsinfo of qtemsg.file_info">
                      <a href="{{ fsinfo.file_ext | fileFormat:fsinfo.file:'url' }}" target="_blank">
                        <p class="chat_image_block"> <img src="{{ fsinfo.file_ext | fileFormat:fsinfo.file:'img' }}" class="chat_msg_img"></p>
                        <h1>{{ fsinfo.file_name }}<span>{{ fsinfo.file_size|bytes }}</span></h1>                        
                      </a>
                    </ng-container>
                </div>
            </ng-container>
          </div>
        </div>
            
              </div><!--end col-->
          
            </div><!--end row-->
            </div><!--end container-->
            </div><!--end proposedetail-leftbox-->
          
          </div><!--end proposaldetail_wrap-->
        
        
        
        
        
        
        
        
        
        